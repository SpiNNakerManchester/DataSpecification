
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>data_specification.enums.commands &#8212; DataSpecification  documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">DataSpecification  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">data_specification.enums.commands</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for data_specification.enums.commands</h1><div class="highlight"><pre>
<span></span><span class="c1"># Copyright (c) 2017-2019 The University of Manchester</span>
<span class="c1">#</span>
<span class="c1"># This program is free software: you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU General Public License as published by</span>
<span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># This program is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1"># GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU General Public License</span>
<span class="c1"># along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>

<span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span> <span class="nn">data_specification.data_specification_executor_functions</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">DataSpecificationExecutorFunctions</span><span class="p">)</span>


<div class="viewcode-block" id="Commands"><a class="viewcode-back" href="../../../data_specification.enums.html#data_specification.enums.Commands">[docs]</a><span class="k">class</span> <span class="nc">Commands</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Set of opcodes for the spec executor&quot;&quot;&quot;</span>

    <span class="c1">#: Halts spec execution with an error.</span>
    <span class="n">BREAK</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x00</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_break</span><span class="p">,</span>
        <span class="s2">&quot;Halts spec execution with an error&quot;</span><span class="p">)</span>
    <span class="c1">#: No operation. Can be used as a filler.</span>
    <span class="n">NOP</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x01</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_nop</span><span class="p">,</span>
        <span class="s2">&quot;No operation. Can be used as a filler&quot;</span><span class="p">)</span>
    <span class="c1">#: Reserves a block of memory ready for filling.</span>
    <span class="n">RESERVE</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x02</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_reserve</span><span class="p">,</span>
        <span class="s2">&quot;Reserves a block of memory ready for filling&quot;</span><span class="p">)</span>
    <span class="n">FREE</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x03</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_free</span><span class="p">,</span>
        <span class="s2">&quot;Releases previously reserved memory&quot;</span><span class="p">)</span>
    <span class="n">DECLARE_RNG</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x05</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_declare_rng</span><span class="p">,</span>
        <span class="s2">&quot;Declares a new random number generator&quot;</span><span class="p">)</span>
    <span class="n">DECLARE_RANDOM_DIST</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x06</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_random_dist</span><span class="p">,</span>
        <span class="s2">&quot;Declares a new random distribution&quot;</span><span class="p">)</span>
    <span class="n">GET_RANDOM_NUMBER</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x07</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_get_random_rumber</span><span class="p">,</span>
        <span class="s2">&quot;Returns a random number drawn from the given distribution&quot;</span><span class="p">)</span>
    <span class="n">START_STRUCT</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x10</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_start_struct</span><span class="p">,</span>
        <span class="s2">&quot;Begins declaration of new structure&quot;</span><span class="p">)</span>
    <span class="n">STRUCT_ELEM</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x11</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_struct_elem</span><span class="p">,</span>
        <span class="s2">&quot;Declare single element in a structure&quot;</span><span class="p">)</span>
    <span class="n">END_STRUCT</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x12</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_end_struct</span><span class="p">,</span>
        <span class="s2">&quot;Ends declaration of new structure&quot;</span><span class="p">)</span>
    <span class="n">START_CONSTRUCTOR</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x20</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_start_constructor</span><span class="p">,</span>
        <span class="s2">&quot;Begins definition of a function to write data structures to memory&quot;</span><span class="p">)</span>
    <span class="n">END_CONSTRUCTOR</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x25</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_end_constructor</span><span class="p">,</span>
        <span class="s2">&quot;Ends definition of the write function&quot;</span><span class="p">)</span>
    <span class="n">CONSTRUCT</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x40</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_construct</span><span class="p">,</span>
        <span class="s2">&quot;Invokes a constructor to build a data structure&quot;</span><span class="p">)</span>
    <span class="n">READ</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x41</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_read</span><span class="p">,</span>
        <span class="s2">&quot;Performs a simple read  operation&quot;</span><span class="p">)</span>
    <span class="c1">#: Performs a simple write or block write operation.</span>
    <span class="n">WRITE</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x42</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_write</span><span class="p">,</span>
        <span class="s2">&quot;Performs a simple write or block write operation&quot;</span><span class="p">)</span>
    <span class="c1">#: Performs a write from an array.</span>
    <span class="n">WRITE_ARRAY</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x43</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_write_array</span><span class="p">,</span>
        <span class="s2">&quot;Performs a write from an array&quot;</span><span class="p">)</span>
    <span class="n">WRITE_STRUCT</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x44</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_write_struct</span><span class="p">,</span>
        <span class="s2">&quot;Performs a write from a predefined structure&quot;</span><span class="p">)</span>
    <span class="n">BLOCK_COPY</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x45</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_block_copy</span><span class="p">,</span>
        <span class="s2">&quot;Copies a block of data from one area to another&quot;</span><span class="p">)</span>
    <span class="c1">#: Swap between different reserved memory regions to work on several at</span>
    <span class="c1">#: the same time.</span>
    <span class="n">SWITCH_FOCUS</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x50</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_switch_focus</span><span class="p">,</span>
        <span class="s2">&quot;Swap between different reserved memory regions to work on several at&quot;</span>
        <span class="s2">&quot; the same time&quot;</span><span class="p">)</span>
    <span class="n">LOOP</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x51</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_loop</span><span class="p">,</span>
        <span class="s2">&quot;Set-up a loop&quot;</span><span class="p">)</span>
    <span class="n">BREAK_LOOP</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x52</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_break_loop</span><span class="p">,</span>
        <span class="s2">&quot;Early exit from a loop&quot;</span><span class="p">)</span>
    <span class="n">END_LOOP</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x53</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_end_loop</span><span class="p">,</span>
        <span class="s2">&quot;End of a loop&quot;</span><span class="p">)</span>
    <span class="n">IF</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x55</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_if</span><span class="p">,</span>
        <span class="s2">&quot;Perform a condition and execute the following instructions only if&quot;</span>
        <span class="s2">&quot; the condition is true&quot;</span><span class="p">)</span>
    <span class="n">ELSE</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x56</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_else</span><span class="p">,</span>
        <span class="s2">&quot;Else clause for associated IF statement&quot;</span><span class="p">)</span>
    <span class="n">END_IF</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x57</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_end_if</span><span class="p">,</span>
        <span class="s2">&quot;Close block of instructions begun with the IF instruction&quot;</span><span class="p">)</span>
    <span class="c1">#: Place a value in a register, from an immediate or another register.</span>
    <span class="n">MV</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x60</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_mv</span><span class="p">,</span>
        <span class="s2">&quot;Place a value in a register, from an immediate or another register&quot;</span><span class="p">)</span>
    <span class="n">GET_WR_PTR</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x63</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_get_wr_ptr</span><span class="p">,</span>
        <span class="s2">&quot;Copy current write address to a register&quot;</span><span class="p">)</span>
    <span class="c1">#: Move the write pointer to a new location, either relative to the</span>
    <span class="c1">#: start of this reserved memory area or relative to the current</span>
    <span class="c1">#: write pointer.</span>
    <span class="n">SET_WR_PTR</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x64</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_set_wr_ptr</span><span class="p">,</span>
        <span class="s2">&quot;Move the write pointer to a new location, either relative to the&quot;</span>
        <span class="s2">&quot; start of this reserved memory area or relative to the current&quot;</span>
        <span class="s2">&quot; write pointer&quot;</span><span class="p">)</span>
    <span class="n">ALIGN_WR_PTR</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x65</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_align_wr_ptr</span><span class="p">,</span>
        <span class="s2">&quot;Moves the write pointer so that it points to the next block with a&quot;</span>
        <span class="s2">&quot; given address granularity&quot;</span><span class="p">)</span>
    <span class="n">ARITH_OP</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x67</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_arith_op</span><span class="p">,</span>
        <span class="s2">&quot;Perform arithmetic operation with operand 2 coming from a register&quot;</span><span class="p">)</span>
    <span class="n">LOGIC_OP</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x68</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_logic_op</span><span class="p">,</span>
        <span class="s2">&quot;Perform logical operation with operand 2 coming from a register&quot;</span><span class="p">)</span>
    <span class="n">REFORMAT</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x6A</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_reformat</span><span class="p">,</span>
        <span class="s2">&quot;Reformats a value in an internal register&quot;</span><span class="p">)</span>
    <span class="n">COPY_STRUCT</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x70</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_copy_struct</span><span class="p">,</span>
        <span class="s2">&quot;Create an identical copy of a structure&quot;</span><span class="p">)</span>
    <span class="n">COPY_PARAM</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x71</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_copy_param</span><span class="p">,</span>
        <span class="s2">&quot;Copy a parameter from one structure to another&quot;</span><span class="p">)</span>
    <span class="n">WRITE_PARAM</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x72</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_write_param</span><span class="p">,</span>
        <span class="s2">&quot;Modify a single parameter in a structure using an immediate value or&quot;</span>
        <span class="s2">&quot; register held-value&quot;</span><span class="p">)</span>
    <span class="n">READ_PARAM</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x73</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_read_param</span><span class="p">,</span>
        <span class="s2">&quot;Load the value of a structure parameter in a register&quot;</span><span class="p">)</span>
    <span class="n">WRITE_PARAM_COMPONENT</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x74</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_write_param_component</span><span class="p">,</span>
        <span class="s2">&quot;Modify a single parameter in a structure&quot;</span><span class="p">)</span>
    <span class="n">PRINT_VAL</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0x80</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_print_val</span><span class="p">,</span>
        <span class="s2">&quot;Output the value of a register to the screen&quot;</span><span class="p">)</span>
    <span class="n">PRINT_TXT</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0X81</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_print_txt</span><span class="p">,</span>
        <span class="s2">&quot;Print a text string to the screen&quot;</span><span class="p">)</span>
    <span class="n">PRINT_STRUCT</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0X82</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_print_struct</span><span class="p">,</span>
        <span class="s2">&quot;Print the current state of one structure to the screen&quot;</span><span class="p">)</span>
    <span class="n">END_SPEC</span> <span class="o">=</span> <span class="p">(</span>
        <span class="mh">0XFF</span><span class="p">,</span> <span class="n">DataSpecificationExecutorFunctions</span><span class="o">.</span><span class="n">execute_end_spec</span><span class="p">,</span>
        <span class="s2">&quot;Cleanly ends the parsing of the data specs&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">exec_function</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="c1"># pylint: disable=protected-access</span>
        <span class="n">obj</span> <span class="o">=</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">_value_</span> <span class="o">=</span> <span class="n">value</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">exec_function</span> <span class="o">=</span> <span class="n">exec_function</span>
        <span class="n">obj</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="n">doc</span>
        <span class="k">return</span> <span class="n">obj</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">exec_function</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value_</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">exec_function</span> <span class="o">=</span> <span class="n">exec_function</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="n">doc</span></div>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">DataSpecification  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">data_specification.enums.commands</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2019.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>
  </body>
</html>